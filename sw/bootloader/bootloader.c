#include "pinaipple_system.h"
#include "timer.h"
#include "fraise.h"


/*
 * Interupt function for the accelerator
*/
void test_fraise_irq(void) __attribute__((interrupt)) ;
void print_line(uint32_t line_addr) ;
void print_array(void) ; 
uint32_t fraise_read(uint32_t addr) ;
void programming_function(uint8_t values1, uint8_t values2, uint8_t values3, uint8_t values4, uint8_t addr_col, uint8_t addr_row, uint8_t side);
uint32_t inference_function(uint8_t observations_col1, uint8_t observations_col2, uint8_t observations_col3, uint8_t observations_col4, uint8_t observations_row1, uint8_t observations_row2, uint8_t observations_row3, uint8_t observations_row4, int inf_choice);

volatile uint32_t result_stoch = 0 ; 
volatile uint32_t result_power_c = 0 ; 
volatile uint32_t result_log = 0 ;
volatile uint32_t result = 0 ; 

volatile int res_valid ; 
//int inf_choice; 0 stoch normal, 1 log, 2, stoch power conscious
void test_fraise_irq(void){
  result = fraise_get_result_stoch() ;
  res_valid = 1 ;
}

void print_serial(char* string) {
  int i ;
  for(i=0;string[i]!='\0';i++){
    putchar(string[i]) ;
  }
}

void programming_function(uint8_t values1, uint8_t values2, uint8_t values3, uint8_t values4, uint8_t addr_col, uint8_t addr_row, uint8_t side) {
  fraise_prog((uint32_t) 1 );
  uint32_t values = ((uint32_t)values1<<24) | ((uint32_t)values2<<16) | ((uint32_t)values3<<8) | (uint32_t)values4;
  fraise_write_set_reset(1);
  write_line_block(values, addr_col, addr_row, side);
  //fraise_write_set_reset(0);
  //write_line_block(values, addr_col, addr_row, side);
}


uint32_t inference_function(uint8_t observations_col1, uint8_t observations_col2, uint8_t observations_col3, uint8_t observations_col4, uint8_t observations_row1, uint8_t observations_row2, uint8_t observations_row3, uint8_t observations_row4, int inf_choice){
  fraise_turn_on_off(1);
  fraise_write_obs_col(observations_col1, observations_col2, observations_col3, observations_col4);
  fraise_write_obs_row(observations_row1, observations_row2, observations_row3, observations_row4);
  fraise_sel_write_inference(inf_choice);
  fraise_run();
  if (inf_choice == 0){
    return fraise_get_result_stoch();
  };
  if (inf_choice == 2){
    return fraise_get_result_power_c();
  };
  if (inf_choice == 1){
    return fraise_get_result_log();
  };
}

uint32_t reading_function(uint8_t array_col, uint8_t observations_row, uint8_t side){
  uint32_t addr;
  addr = (uint32_t)((((uint32_t) (array_col & 3)) << 3) | (((uint32_t) (observations_row & 255)) << 5) | ((uint32_t) (side & 1)<<2));
  return fraise_read(addr);
}

void print_serial_dec_32(uint32_t value){
  int i ;
  uint32_t valeur = value ;
  char string [4] ; 
  for(i=0;i<4;i++){
    string[i] = (valeur % 10) + '0' ;
    valeur /= 10 ;
  }
  for(i=3;i>=0;i--){
    putchar(string[i]) ;
  }
}

int main(void){
  //fraise_turn_on_off(1);
  // programming this pattern (the first line of the first array line : 64 bits x 4)
  uint8_t pattern[512][16] = {
{141, 111, 222, 226, 103, 8, 136, 19, 226, 57, 175, 24, 63, 232, 150, 188},
{235, 43, 227, 225, 99, 145, 211, 63, 141, 129, 44, 184, 28, 131, 69, 104},
{142, 109, 225, 223, 114, 54, 120, 52, 245, 225, 89, 20, 77, 208, 108, 69},
{237, 31, 30, 215, 241, 119, 207, 249, 121, 76, 69, 44, 65, 91, 36, 118},
{201, 71, 46, 7, 92, 178, 224, 28, 87, 71, 103, 175, 205, 52, 141, 109},
{184, 6, 108, 110, 97, 222, 49, 68, 134, 162, 30, 225, 239, 249, 46, 186},
{217, 132, 110, 195, 16, 27, 122, 56, 192, 151, 178, 77, 205, 97, 21, 67},
{194, 23, 216, 247, 101, 72, 57, 10, 86, 42, 214, 81, 37, 199, 114, 237},
{46, 224, 233, 163, 110, 206, 151, 187, 34, 42, 55, 201, 196, 12, 216, 196},
{113, 6, 80, 57, 148, 250, 18, 110, 237, 184, 246, 47, 229, 167, 37, 166},
{70, 43, 239, 255, 105, 153, 16, 39, 74, 252, 63, 185, 133, 201, 37, 119},
{35, 243, 193, 209, 143, 225, 99, 14, 150, 23, 164, 229, 43, 157, 186, 32},
{157, 217, 144, 242, 92, 148, 78, 62, 21, 205, 16, 242, 242, 129, 181, 247},
{74, 98, 217, 16, 89, 3, 119, 52, 31, 30, 243, 167, 133, 194, 33, 166},
{199, 194, 176, 78, 24, 254, 173, 143, 82, 153, 56, 62, 18, 47, 214, 5},
{121, 232, 100, 34, 77, 156, 144, 213, 193, 156, 253, 223, 65, 62, 237, 37},
{194, 135, 41, 253, 159, 115, 231, 195, 36, 33, 64, 193, 181, 25, 87, 222},
{17, 19, 25, 224, 162, 115, 162, 103, 6, 164, 45, 54, 102, 163, 47, 142},
{132, 145, 109, 192, 117, 74, 108, 202, 163, 125, 86, 121, 134, 116, 202, 60},
{31, 110, 125, 143, 85, 29, 172, 170, 67, 188, 158, 179, 116, 180, 127, 241},
{202, 168, 111, 250, 128, 75, 203, 121, 150, 186, 18, 191, 125, 189, 79, 81},
{177, 69, 107, 11, 123, 150, 155, 96, 84, 253, 181, 200, 86, 28, 52, 249},
{125, 101, 123, 234, 76, 13, 177, 159, 109, 79, 159, 154, 198, 129, 143, 171},
{4, 240, 181, 39, 20, 173, 218, 165, 134, 243, 86, 76, 48, 72, 26, 72},
{23, 238, 61, 206, 47, 173, 209, 229, 197, 65, 112, 39, 93, 134, 54, 189},
{134, 100, 127, 156, 127, 58, 138, 146, 225, 228, 251, 132, 224, 59, 232, 171},
{153, 234, 2, 2, 117, 30, 252, 192, 193, 93, 73, 247, 156, 155, 13, 190},
{93, 29, 21, 101, 22, 235, 222, 71, 174, 228, 185, 21, 211, 72, 29, 181},
{91, 155, 19, 142, 34, 68, 189, 221, 224, 245, 31, 9, 114, 156, 222, 83},
{218, 207, 115, 151, 197, 62, 217, 21, 28, 54, 89, 113, 239, 73, 61, 117},
{108, 94, 124, 179, 93, 200, 130, 14, 236, 216, 170, 19, 183, 221, 230, 51},
{3, 110, 158, 45, 95, 133, 210, 179, 49, 100, 180, 153, 210, 159, 180, 55},
{158, 77, 80, 118, 170, 144, 163, 143, 66, 119, 4, 245, 121, 124, 191, 64},
{198, 225, 5, 215, 229, 150, 189, 77, 210, 234, 99, 72, 127, 229, 215, 148},
{171, 151, 153, 92, 6, 223, 106, 41, 76, 129, 236, 96, 10, 58, 225, 231},
{135, 174, 150, 159, 247, 212, 153, 88, 107, 56, 173, 108, 226, 111, 223, 102},
{16, 243, 127, 101, 4, 153, 146, 121, 146, 194, 86, 119, 1, 35, 156, 108},
{190, 47, 40, 175, 48, 189, 206, 103, 117, 55, 227, 101, 129, 162, 176, 143},
{201, 127, 77, 65, 154, 147, 255, 155, 156, 175, 149, 242, 116, 234, 90, 62},
{24, 211, 57, 97, 149, 3, 85, 29, 225, 105, 160, 164, 92, 239, 240, 227},
{77, 133, 12, 4, 98, 220, 139, 152, 156, 158, 189, 222, 104, 56, 73, 179},
{196, 91, 123, 120, 18, 83, 216, 188, 33, 129, 50, 208, 39, 180, 4, 11},
{140, 70, 78, 140, 48, 6, 30, 26, 32, 133, 132, 151, 188, 228, 247, 76},
{171, 200, 56, 179, 214, 61, 222, 171, 98, 207, 117, 42, 157, 140, 57, 179},
{221, 32, 242, 25, 108, 9, 158, 241, 146, 2, 165, 201, 116, 217, 245, 105},
{76, 16, 232, 242, 228, 234, 35, 113, 237, 50, 125, 206, 91, 238, 28, 155},
{124, 217, 98, 210, 44, 46, 71, 119, 69, 217, 198, 107, 106, 36, 212, 146},
{125, 225, 21, 181, 86, 18, 217, 195, 214, 74, 71, 201, 4, 28, 192, 210},
{146, 38, 182, 15, 205, 159, 247, 99, 0, 30, 178, 235, 130, 187, 0, 84},
{56, 61, 21, 165, 167, 60, 87, 222, 40, 4, 18, 31, 63, 71, 0, 205},
{66, 210, 73, 75, 140, 184, 156, 165, 176, 246, 57, 143, 245, 31, 6, 33},
{196, 32, 3, 218, 67, 181, 78, 215, 51, 95, 11, 55, 141, 36, 49, 39},
{147, 11, 134, 173, 213, 33, 44, 87, 121, 60, 211, 46, 23, 42, 77, 162},
{167, 116, 112, 97, 159, 20, 254, 226, 40, 188, 205, 122, 122, 85, 230, 28},
{193, 165, 117, 139, 76, 90, 81, 174, 10, 19, 181, 133, 144, 252, 16, 40},
{12, 98, 192, 234, 48, 68, 220, 104, 120, 214, 19, 46, 166, 206, 143, 242},
{32, 29, 236, 16, 138, 31, 228, 167, 134, 183, 141, 142, 209, 165, 173, 232},
{90, 43, 174, 52, 66, 144, 51, 100, 209, 155, 153, 93, 231, 156, 115, 255},
{238, 35, 245, 150, 43, 32, 180, 52, 161, 95, 109, 39, 78, 167, 251, 249},
{195, 28, 18, 67, 239, 125, 70, 99, 30, 182, 9, 247, 190, 240, 253, 15},
{155, 231, 16, 236, 166, 196, 27, 116, 6, 153, 165, 55, 146, 148, 127, 55},
{209, 112, 249, 85, 215, 50, 138, 186, 25, 22, 136, 163, 120, 147, 182, 221},
{95, 35, 155, 98, 145, 203, 169, 103, 42, 88, 50, 55, 116, 216, 157, 99},
{241, 32, 74, 5, 10, 243, 185, 90, 207, 138, 21, 255, 89, 170, 174, 22},
{108, 113, 60, 129, 199, 247, 74, 176, 236, 241, 212, 156, 213, 244, 65, 11},
{63, 161, 51, 109, 225, 169, 208, 187, 178, 90, 66, 180, 91, 136, 248, 177},
{156, 109, 127, 145, 122, 81, 75, 177, 75, 253, 122, 236, 10, 159, 23, 213},
{9, 73, 130, 115, 251, 55, 190, 155, 0, 126, 199, 162, 144, 76, 81, 204},
{218, 208, 137, 214, 20, 254, 249, 90, 5, 144, 140, 232, 169, 213, 80, 190},
{144, 216, 91, 31, 122, 59, 158, 14, 6, 110, 18, 85, 53, 78, 16, 191},
{0, 137, 149, 50, 193, 1, 242, 53, 214, 132, 51, 242, 77, 226, 102, 23},
{245, 187, 78, 186, 141, 2, 37, 161, 88, 196, 117, 176, 191, 147, 159, 127},
{127, 87, 173, 109, 77, 181, 174, 93, 142, 105, 150, 135, 220, 198, 255, 7},
{168, 137, 216, 241, 173, 222, 3, 19, 31, 22, 195, 113, 171, 88, 219, 69},
{209, 154, 166, 216, 149, 182, 112, 2, 67, 151, 160, 9, 18, 40, 105, 78},
{38, 43, 243, 108, 54, 125, 69, 33, 194, 224, 242, 127, 7, 73, 42, 34},
{121, 172, 138, 171, 143, 236, 157, 99, 186, 78, 156, 217, 53, 128, 104, 175},
{194, 213, 196, 255, 54, 245, 181, 142, 17, 195, 131, 168, 45, 211, 197, 29},
{1, 37, 255, 193, 192, 182, 45, 209, 61, 149, 4, 194, 135, 60, 140, 79},
{57, 154, 206, 90, 206, 45, 130, 237, 180, 86, 79, 253, 132, 22, 201, 83},
{163, 95, 18, 62, 11, 226, 190, 168, 238, 165, 247, 234, 219, 68, 62, 0},
{115, 243, 64, 214, 88, 32, 111, 121, 168, 100, 5, 93, 63, 55, 32, 115},
{134, 65, 86, 145, 80, 228, 51, 57, 168, 198, 171, 29, 174, 47, 165, 213},
{227, 219, 130, 65, 23, 65, 81, 222, 195, 84, 2, 98, 217, 115, 31, 19},
{153, 78, 161, 158, 93, 173, 207, 132, 162, 248, 194, 172, 238, 70, 66, 131},
{191, 213, 112, 41, 160, 169, 246, 47, 171, 102, 108, 60, 204, 4, 57, 215},
{135, 246, 246, 161, 2, 148, 224, 252, 107, 91, 155, 254, 55, 141, 39, 109},
{176, 70, 18, 75, 191, 226, 52, 32, 87, 11, 216, 13, 242, 124, 37, 179},
{49, 236, 166, 244, 70, 116, 16, 13, 230, 44, 118, 63, 44, 128, 121, 34},
{8, 75, 200, 124, 255, 216, 182, 173, 53, 141, 132, 167, 250, 82, 9, 199},
{74, 255, 138, 238, 227, 25, 122, 242, 24, 25, 122, 176, 161, 173, 58, 202},
{112, 186, 251, 235, 18, 226, 47, 65, 92, 114, 141, 251, 175, 181, 2, 115},
{28, 145, 183, 245, 123, 227, 39, 197, 82, 19, 251, 153, 61, 30, 71, 93},
{172, 163, 161, 174, 213, 150, 198, 105, 235, 132, 216, 85, 132, 39, 145, 28},
{87, 205, 117, 180, 97, 255, 206, 27, 22, 138, 126, 137, 90, 69, 225, 208},
{148, 225, 56, 247, 107, 134, 95, 95, 66, 2, 13, 184, 169, 184, 185, 146},
{63, 153, 140, 156, 44, 47, 78, 204, 90, 255, 40, 143, 237, 181, 38, 254},
{11, 19, 156, 109, 109, 82, 117, 249, 34, 126, 8, 142, 250, 239, 57, 12},
{43, 241, 95, 73, 152, 203, 6, 149, 82, 238, 211, 117, 34, 70, 65, 138},
{133, 169, 52, 125, 76, 216, 242, 100, 147, 86, 94, 52, 69, 254, 71, 137},
{70, 25, 117, 8, 208, 198, 241, 234, 216, 119, 199, 58, 89, 180, 17, 115},
{135, 161, 153, 68, 81, 148, 255, 204, 213, 224, 41, 28, 130, 160, 243, 169},
{32, 87, 230, 158, 192, 49, 207, 146, 244, 105, 60, 139, 155, 12, 65, 55},
{139, 1, 85, 221, 246, 11, 1, 152, 56, 136, 183, 207, 231, 37, 112, 88},
{35, 74, 61, 169, 224, 54, 102, 33, 122, 19, 140, 100, 87, 173, 189, 140},
{174, 227, 167, 92, 105, 132, 17, 140, 20, 116, 207, 218, 70, 240, 143, 237},
{48, 97, 151, 101, 108, 150, 135, 155, 98, 101, 204, 176, 57, 63, 76, 214},
{242, 167, 4, 130, 150, 43, 35, 243, 208, 230, 175, 83, 255, 233, 7, 146},
{62, 109, 138, 226, 60, 122, 150, 44, 225, 190, 149, 152, 203, 238, 49, 78},
{55, 150, 18, 201, 140, 4, 242, 106, 220, 45, 208, 3, 135, 67, 210, 193},
{29, 57, 183, 110, 141, 252, 107, 87, 131, 146, 138, 140, 122, 204, 155, 106},
{160, 242, 109, 238, 134, 69, 5, 252, 140, 20, 11, 39, 48, 14, 171, 142},
{206, 250, 54, 135, 83, 3, 146, 241, 7, 128, 188, 15, 33, 62, 193, 16},
{29, 6, 146, 38, 109, 14, 115, 32, 77, 25, 253, 116, 21, 175, 154, 30},
{56, 140, 211, 247, 155, 125, 14, 147, 238, 189, 115, 30, 133, 126, 246, 191},
{14, 206, 176, 34, 178, 201, 117, 117, 204, 204, 235, 187, 139, 178, 176, 70},
{64, 213, 8, 96, 141, 240, 167, 124, 177, 103, 85, 226, 216, 254, 249, 121},
{208, 86, 112, 130, 63, 16, 189, 26, 100, 188, 221, 13, 118, 114, 57, 189},
{163, 163, 228, 108, 75, 200, 179, 242, 190, 58, 254, 161, 233, 247, 199, 41},
{132, 17, 249, 178, 189, 76, 241, 210, 240, 119, 131, 28, 222, 216, 68, 2},
{125, 146, 67, 224, 98, 4, 39, 158, 132, 1, 13, 174, 116, 53, 211, 48},
{88, 99, 234, 209, 116, 154, 250, 166, 248, 165, 149, 51, 156, 93, 81, 142},
{129, 123, 33, 117, 4, 184, 203, 233, 213, 237, 94, 103, 123, 106, 55, 113},
{118, 159, 95, 21, 164, 146, 44, 100, 149, 147, 178, 210, 22, 64, 51, 177},
{89, 154, 231, 178, 145, 116, 113, 174, 97, 152, 17, 106, 97, 192, 15, 213},
{172, 155, 27, 237, 198, 136, 205, 235, 106, 131, 192, 166, 2, 131, 162, 111},
{97, 78, 155, 197, 118, 78, 231, 162, 19, 114, 15, 173, 244, 45, 53, 233},
{19, 88, 221, 110, 124, 158, 92, 248, 186, 245, 117, 172, 92, 243, 160, 6},
{95, 128, 103, 165, 31, 87, 52, 160, 9, 134, 113, 209, 143, 101, 186, 90},
{104, 1, 209, 203, 229, 206, 30, 39, 106, 218, 175, 7, 210, 136, 186, 139},
{188, 188, 52, 165, 244, 35, 157, 134, 36, 105, 41, 43, 149, 104, 149, 149},
{212, 115, 201, 30, 24, 116, 237, 5, 126, 179, 3, 100, 195, 53, 183, 151},
{223, 15, 202, 200, 70, 103, 6, 143, 68, 0, 187, 33, 38, 53, 44, 204},
{237, 229, 121, 210, 151, 36, 233, 108, 97, 180, 135, 36, 187, 98, 216, 111},
{101, 232, 187, 253, 145, 149, 81, 106, 87, 145, 133, 35, 103, 87, 44, 217},
{199, 117, 55, 43, 23, 103, 124, 108, 170, 161, 109, 64, 75, 63, 147, 14},
{201, 64, 207, 118, 84, 228, 179, 93, 195, 139, 207, 207, 148, 122, 141, 169},
{140, 200, 131, 3, 188, 248, 200, 199, 150, 139, 179, 231, 189, 140, 163, 223},
{47, 57, 54, 169, 12, 219, 121, 186, 157, 18, 44, 111, 211, 249, 22, 74},
{82, 130, 23, 247, 0, 106, 83, 116, 193, 145, 50, 125, 83, 180, 61, 244},
{143, 249, 254, 22, 222, 209, 102, 197, 189, 242, 233, 195, 99, 210, 79, 71},
{186, 104, 236, 48, 229, 147, 127, 149, 32, 89, 124, 66, 227, 13, 2, 161},
{76, 21, 148, 103, 94, 230, 28, 57, 170, 35, 64, 41, 226, 89, 72, 176},
{18, 198, 184, 98, 33, 83, 231, 203, 192, 191, 61, 47, 229, 101, 151, 128},
{154, 73, 48, 226, 144, 137, 144, 46, 60, 40, 46, 246, 120, 191, 126, 179},
{7, 108, 186, 200, 91, 185, 151, 173, 206, 237, 135, 98, 74, 73, 2, 126},
{212, 236, 2, 137, 100, 187, 104, 180, 47, 151, 12, 192, 73, 100, 13, 147},
{17, 120, 170, 120, 34, 94, 66, 47, 178, 230, 17, 141, 30, 193, 157, 13},
{157, 141, 66, 8, 187, 128, 128, 159, 146, 39, 206, 55, 157, 17, 69, 122},
{55, 209, 146, 239, 12, 235, 248, 80, 116, 202, 13, 163, 165, 144, 67, 101},
{53, 118, 208, 29, 226, 29, 47, 108, 239, 209, 9, 5, 149, 142, 197, 5},
{86, 134, 216, 4, 232, 48, 153, 170, 23, 73, 57, 247, 206, 23, 249, 251},
{35, 66, 174, 222, 45, 170, 130, 85, 11, 208, 126, 77, 120, 39, 142, 45},
{3, 220, 70, 103, 212, 75, 136, 145, 170, 101, 5, 44, 147, 168, 192, 63},
{207, 145, 1, 79, 185, 194, 112, 227, 88, 248, 255, 151, 72, 95, 227, 124},
{180, 33, 240, 98, 139, 176, 218, 10, 217, 119, 206, 47, 45, 224, 190, 186},
{25, 110, 63, 210, 242, 217, 19, 30, 251, 104, 107, 39, 222, 241, 56, 255},
{138, 218, 42, 52, 123, 50, 17, 227, 46, 6, 117, 98, 153, 18, 252, 77},
{82, 251, 138, 129, 137, 148, 166, 81, 189, 124, 39, 235, 130, 5, 36, 238},
{225, 236, 250, 254, 75, 42, 63, 59, 33, 105, 244, 75, 171, 75, 137, 199},
{65, 253, 136, 147, 195, 137, 242, 38, 144, 107, 102, 1, 93, 159, 58, 183},
{65, 139, 205, 83, 187, 215, 224, 186, 40, 60, 229, 201, 94, 149, 158, 172},
{237, 198, 67, 173, 155, 3, 84, 120, 21, 112, 38, 151, 252, 13, 29, 124},
{159, 34, 153, 243, 43, 174, 111, 32, 94, 22, 99, 67, 54, 236, 197, 170},
{117, 227, 235, 146, 242, 78, 125, 34, 44, 43, 197, 250, 67, 116, 53, 214},
{119, 217, 219, 138, 177, 86, 146, 229, 192, 27, 120, 50, 62, 147, 113, 245},
{29, 71, 23, 120, 12, 180, 88, 102, 40, 130, 153, 201, 43, 236, 245, 89},
{0, 137, 0, 220, 140, 26, 72, 133, 129, 105, 126, 127, 40, 200, 203, 221},
{214, 200, 195, 178, 20, 119, 166, 3, 94, 141, 137, 83, 227, 106, 161, 26},
{230, 215, 15, 136, 196, 185, 182, 193, 25, 138, 100, 22, 89, 85, 227, 113},
{100, 202, 234, 99, 220, 214, 6, 102, 87, 228, 8, 124, 98, 32, 87, 138},
{88, 8, 206, 126, 139, 135, 224, 38, 168, 56, 127, 195, 71, 245, 187, 12},
{173, 233, 36, 254, 173, 122, 217, 128, 94, 74, 70, 135, 71, 219, 135, 84},
{77, 161, 34, 134, 67, 102, 214, 15, 180, 243, 117, 99, 15, 228, 215, 189},
{21, 228, 168, 89, 83, 108, 213, 120, 111, 51, 5, 210, 218, 67, 30, 181},
{17, 191, 172, 167, 177, 10, 200, 157, 15, 64, 16, 229, 150, 29, 20, 241},
{121, 233, 216, 164, 123, 73, 60, 134, 25, 59, 115, 116, 254, 158, 52, 138},
{128, 166, 147, 230, 33, 149, 43, 212, 93, 239, 164, 100, 136, 95, 179, 159},
{184, 77, 107, 107, 253, 161, 207, 197, 22, 115, 210, 142, 152, 237, 137, 46},
{168, 165, 33, 233, 147, 231, 115, 243, 246, 170, 164, 242, 47, 208, 137, 225},
{5, 151, 129, 150, 50, 144, 28, 209, 82, 114, 3, 255, 221, 82, 126, 249},
{161, 57, 231, 224, 91, 41, 101, 143, 127, 116, 62, 252, 129, 55, 197, 21},
{19, 160, 209, 105, 162, 3, 247, 132, 236, 145, 51, 205, 188, 123, 58, 38},
{184, 219, 115, 56, 51, 34, 248, 192, 67, 248, 12, 102, 244, 12, 189, 95},
{175, 153, 34, 58, 160, 225, 38, 174, 6, 57, 126, 179, 190, 181, 81, 174},
{85, 2, 230, 97, 53, 20, 245, 20, 246, 177, 101, 174, 16, 91, 72, 21},
{236, 3, 245, 243, 109, 111, 253, 155, 243, 225, 205, 198, 192, 242, 147, 217},
{12, 28, 205, 119, 3, 68, 198, 123, 180, 3, 175, 165, 9, 97, 46, 72},
{150, 222, 60, 65, 10, 16, 26, 225, 37, 146, 193, 115, 10, 14, 142, 117},
{180, 205, 43, 35, 44, 23, 44, 231, 152, 254, 61, 12, 49, 77, 209, 53},
{190, 104, 112, 165, 61, 83, 34, 169, 228, 157, 234, 208, 30, 86, 35, 169},
{3, 212, 208, 168, 163, 100, 22, 191, 88, 38, 2, 218, 178, 172, 45, 164},
{155, 43, 246, 196, 236, 81, 25, 201, 1, 7, 78, 30, 242, 133, 109, 108},
{117, 76, 145, 118, 224, 58, 148, 215, 197, 219, 34, 166, 103, 85, 221, 218},
{234, 248, 162, 80, 68, 13, 180, 154, 158, 138, 55, 67, 79, 16, 100, 213},
{9, 7, 112, 169, 197, 214, 122, 150, 218, 15, 136, 24, 216, 15, 141, 45},
{245, 237, 91, 28, 22, 114, 122, 146, 166, 16, 218, 235, 129, 7, 139, 183},
{40, 32, 104, 124, 161, 248, 24, 79, 187, 5, 98, 41, 175, 107, 197, 138},
{145, 154, 170, 152, 151, 114, 74, 101, 203, 135, 6, 65, 209, 222, 202, 200},
{103, 206, 233, 194, 78, 187, 110, 114, 0, 173, 131, 5, 172, 62, 208, 32},
{121, 154, 246, 175, 220, 7, 114, 175, 1, 27, 197, 7, 79, 126, 127, 8},
{41, 55, 216, 101, 62, 98, 227, 178, 100, 161, 235, 173, 39, 105, 229, 195},
{84, 121, 37, 150, 238, 194, 62, 195, 218, 181, 107, 78, 255, 39, 211, 55},
{145, 82, 200, 184, 242, 64, 100, 55, 6, 177, 2, 192, 141, 107, 147, 194},
{124, 229, 222, 206, 100, 250, 146, 185, 82, 223, 68, 49, 157, 92, 26, 239},
{227, 236, 248, 6, 146, 233, 192, 176, 31, 40, 26, 185, 82, 158, 37, 230},
{195, 138, 138, 242, 188, 115, 200, 233, 111, 175, 146, 4, 170, 128, 61, 242},
{210, 38, 104, 135, 4, 57, 113, 33, 202, 130, 159, 39, 66, 182, 247, 71},
{99, 156, 80, 108, 71, 201, 19, 72, 233, 3, 195, 178, 234, 160, 108, 48},
{173, 60, 111, 67, 161, 104, 71, 66, 149, 83, 224, 221, 99, 28, 142, 10},
{30, 242, 205, 121, 207, 6, 149, 30, 62, 222, 160, 172, 143, 28, 139, 152},
{24, 3, 193, 226, 23, 240, 161, 74, 4, 98, 3, 24, 212, 16, 12, 133},
{169, 251, 195, 127, 126, 26, 90, 130, 168, 179, 99, 239, 145, 132, 94, 189},
{212, 178, 50, 22, 181, 167, 28, 50, 51, 5, 201, 221, 243, 190, 46, 140},
{87, 7, 86, 111, 32, 69, 177, 142, 238, 20, 5, 202, 120, 146, 11, 110},
{104, 62, 98, 206, 30, 19, 194, 61, 58, 98, 69, 215, 30, 129, 14, 149},
{228, 194, 101, 186, 55, 168, 150, 28, 225, 16, 147, 11, 104, 127, 18, 102},
{212, 124, 72, 117, 59, 7, 202, 252, 69, 59, 92, 0, 155, 60, 139, 56},
{224, 156, 188, 81, 178, 245, 82, 216, 78, 47, 136, 227, 253, 238, 138, 244},
{227, 251, 178, 142, 132, 114, 46, 74, 25, 168, 173, 221, 102, 26, 230, 160},
{167, 253, 245, 182, 78, 82, 213, 64, 20, 125, 78, 42, 132, 171, 127, 75},
{93, 111, 118, 83, 92, 95, 126, 194, 107, 251, 154, 68, 220, 0, 36, 200},
{195, 63, 20, 254, 66, 105, 23, 179, 66, 103, 60, 112, 45, 218, 201, 242},
{197, 3, 41, 172, 197, 182, 155, 228, 27, 236, 163, 209, 40, 204, 114, 133},
{193, 233, 163, 65, 246, 201, 149, 197, 186, 18, 50, 220, 217, 226, 251, 48},
{217, 79, 144, 12, 168, 181, 214, 254, 42, 84, 82, 225, 240, 244, 64, 59},
{244, 65, 60, 43, 161, 130, 186, 167, 174, 9, 13, 35, 55, 237, 137, 147},
{52, 209, 84, 41, 163, 250, 60, 184, 252, 34, 38, 179, 53, 173, 15, 71},
{199, 252, 89, 31, 236, 84, 117, 203, 227, 22, 228, 47, 154, 207, 181, 194},
{43, 44, 141, 232, 205, 1, 19, 16, 122, 187, 249, 231, 65, 98, 204, 186},
{149, 163, 31, 126, 30, 98, 124, 62, 89, 216, 139, 20, 246, 26, 33, 116},
{168, 113, 138, 94, 44, 254, 10, 180, 171, 161, 225, 255, 110, 189, 25, 208},
{171, 234, 251, 95, 68, 51, 221, 231, 32, 31, 91, 35, 163, 240, 21, 145},
{152, 3, 155, 42, 56, 240, 57, 118, 86, 42, 206, 59, 60, 126, 66, 207},
{238, 85, 167, 103, 234, 173, 126, 136, 205, 18, 230, 116, 27, 109, 198, 208},
{180, 86, 243, 71, 220, 248, 98, 54, 197, 157, 70, 69, 93, 7, 55, 96},
{98, 61, 56, 233, 62, 235, 202, 224, 151, 249, 228, 138, 212, 21, 242, 25},
{158, 199, 167, 190, 243, 207, 178, 119, 17, 74, 66, 60, 88, 226, 110, 118},
{51, 183, 48, 12, 19, 38, 31, 217, 214, 213, 40, 71, 120, 145, 155, 147},
{41, 185, 22, 133, 131, 213, 69, 61, 179, 27, 58, 145, 183, 175, 40, 138},
{158, 144, 174, 115, 95, 209, 99, 218, 244, 176, 150, 169, 152, 12, 150, 116},
{67, 26, 194, 227, 119, 212, 44, 31, 254, 218, 215, 41, 202, 223, 145, 71},
{17, 187, 110, 64, 144, 26, 9, 208, 219, 147, 130, 141, 164, 5, 242, 60},
{153, 94, 229, 5, 27, 124, 97, 253, 194, 40, 162, 209, 243, 213, 207, 65},
{212, 120, 21, 115, 113, 2, 97, 147, 229, 167, 143, 17, 183, 26, 209, 34},
{63, 78, 61, 223, 42, 3, 115, 191, 125, 52, 37, 52, 209, 28, 178, 2},
{243, 233, 199, 121, 103, 59, 173, 151, 203, 147, 249, 73, 102, 37, 240, 1},
{91, 160, 205, 170, 193, 63, 187, 171, 50, 153, 187, 160, 63, 212, 107, 121},
{39, 16, 179, 54, 152, 6, 63, 187, 176, 97, 183, 92, 41, 150, 246, 158},
{232, 170, 58, 199, 46, 50, 177, 117, 110, 242, 58, 46, 178, 213, 25, 142},
{34, 101, 196, 2, 115, 17, 53, 214, 159, 154, 0, 153, 44, 78, 107, 126},
{148, 0, 245, 85, 202, 127, 129, 63, 198, 18, 127, 61, 171, 232, 185, 186},
{206, 12, 26, 29, 158, 191, 103, 211, 57, 254, 144, 43, 34, 96, 255, 0},
{24, 183, 4, 141, 166, 175, 214, 219, 142, 9, 5, 137, 213, 155, 126, 53},
{229, 24, 55, 137, 91, 251, 191, 242, 225, 239, 113, 197, 25, 9, 3, 89},
{132, 60, 51, 191, 163, 187, 80, 31, 173, 7, 106, 212, 133, 205, 189, 94},
{219, 239, 84, 31, 160, 210, 248, 219, 51, 177, 41, 97, 5, 105, 101, 134},
{240, 175, 254, 65, 26, 177, 188, 6, 29, 143, 98, 3, 229, 218, 98, 253},
{244, 130, 34, 210, 94, 166, 60, 168, 14, 31, 161, 127, 188, 243, 145, 18},
{31, 16, 72, 80, 45, 17, 145, 168, 120, 99, 14, 90, 168, 178, 34, 108},
{83, 239, 92, 203, 186, 201, 1, 231, 169, 81, 5, 152, 27, 245, 51, 12},
{147, 122, 151, 222, 114, 134, 239, 115, 8, 212, 205, 145, 80, 235, 231, 186},
{181, 25, 114, 147, 217, 87, 254, 113, 75, 130, 165, 190, 77, 219, 221, 94},
{18, 223, 32, 212, 140, 246, 231, 156, 141, 208, 177, 101, 108, 70, 158, 78},
{99, 25, 169, 75, 200, 235, 39, 74, 195, 228, 202, 139, 158, 137, 223, 119},
{126, 120, 40, 117, 22, 197, 144, 109, 154, 163, 131, 100, 128, 133, 0, 239},
{67, 210, 40, 74, 192, 243, 42, 99, 84, 162, 21, 40, 157, 140, 221, 170},
{97, 21, 206, 87, 170, 69, 96, 131, 209, 197, 152, 117, 133, 136, 175, 64},
{1, 216, 235, 190, 28, 151, 63, 92, 165, 48, 15, 51, 65, 69, 247, 73},
{96, 236, 111, 9, 46, 149, 81, 232, 231, 213, 198, 62, 23, 165, 50, 115},
{169, 222, 10, 83, 112, 9, 0, 182, 174, 204, 254, 25, 185, 3, 108, 138},
{97, 29, 163, 239, 236, 217, 185, 32, 80, 135, 31, 70, 74, 172, 113, 76},
{193, 62, 114, 250, 56, 216, 3, 169, 106, 63, 33, 198, 15, 46, 118, 15},
{142, 148, 45, 78, 197, 28, 13, 178, 193, 17, 95, 47, 131, 202, 92, 29},
{5, 214, 6, 136, 19, 147, 247, 67, 62, 243, 210, 157, 91, 220, 21, 28},
{86, 96, 158, 187, 87, 31, 115, 70, 20, 240, 145, 195, 53, 114, 236, 103},
{49, 56, 67, 208, 138, 198, 106, 202, 33, 4, 129, 169, 154, 19, 209, 110},
{124, 135, 126, 177, 135, 177, 200, 245, 36, 71, 167, 1, 187, 211, 140, 39},
{186, 240, 250, 67, 37, 207, 139, 220, 38, 147, 191, 6, 214, 26, 62, 184},
{134, 140, 76, 60, 78, 18, 21, 233, 164, 135, 134, 197, 239, 226, 202, 166},
{169, 54, 159, 95, 133, 236, 244, 136, 196, 174, 64, 64, 41, 161, 238, 21},
{143, 238, 147, 10, 210, 245, 120, 59, 86, 73, 146, 17, 218, 96, 105, 48},
{165, 219, 224, 193, 166, 109, 117, 200, 246, 2, 59, 31, 30, 100, 14, 81},
{194, 223, 184, 140, 233, 32, 214, 253, 107, 218, 146, 226, 226, 1, 117, 226},
{56, 255, 171, 245, 137, 154, 203, 123, 177, 21, 93, 170, 115, 120, 119, 118},
{69, 214, 35, 29, 84, 120, 90, 58, 242, 140, 160, 244, 20, 246, 191, 70},
{40, 246, 167, 200, 95, 171, 87, 180, 241, 142, 140, 51, 111, 228, 205, 43},
{58, 61, 75, 184, 93, 166, 247, 5, 12, 254, 220, 155, 116, 118, 226, 215},
{249, 69, 169, 210, 28, 245, 168, 234, 209, 11, 12, 103, 184, 252, 153, 254},
{186, 253, 129, 234, 139, 145, 197, 58, 239, 156, 220, 206, 229, 174, 194, 224},
{226, 125, 72, 123, 116, 54, 120, 252, 108, 215, 222, 18, 78, 159, 18, 45},
{83, 103, 109, 247, 144, 159, 128, 173, 8, 146, 248, 12, 180, 215, 0, 228},
{119, 87, 141, 109, 4, 69, 222, 21, 54, 231, 108, 191, 63, 226, 164, 55},
{151, 57, 162, 121, 152, 224, 95, 6, 38, 41, 148, 65, 109, 5, 162, 253},
{30, 186, 29, 127, 1, 218, 8, 67, 108, 44, 226, 234, 59, 72, 13, 92},
{3, 77, 234, 208, 74, 69, 13, 209, 196, 138, 254, 69, 206, 37, 15, 16},
{253, 8, 125, 162, 193, 135, 22, 121, 119, 11, 188, 236, 121, 98, 11, 46},
{74, 117, 97, 103, 37, 70, 6, 212, 54, 195, 157, 15, 45, 177, 14, 114},
{6, 65, 76, 175, 241, 45, 189, 43, 79, 184, 95, 172, 218, 239, 84, 152},
{76, 5, 211, 162, 80, 161, 93, 35, 132, 147, 151, 250, 126, 233, 115, 197},
{234, 77, 205, 1, 253, 74, 30, 135, 141, 142, 132, 11, 142, 207, 53, 180},
{50, 173, 214, 4, 28, 231, 12, 143, 61, 9, 255, 221, 44, 177, 56, 151},
{90, 195, 21, 89, 114, 248, 165, 123, 242, 37, 26, 151, 77, 163, 130, 25},
{96, 144, 216, 165, 226, 162, 60, 167, 75, 87, 237, 116, 36, 189, 1, 15},
{241, 0, 11, 0, 142, 218, 35, 2, 224, 177, 144, 128, 96, 171, 76, 79},
{57, 241, 237, 236, 11, 177, 251, 185, 76, 109, 203, 176, 244, 89, 31, 126},
{224, 45, 182, 116, 219, 149, 164, 197, 255, 49, 20, 236, 101, 112, 82, 58},
{103, 10, 44, 187, 130, 168, 201, 169, 160, 121, 253, 237, 169, 34, 15, 113},
{240, 86, 202, 243, 186, 95, 216, 172, 167, 7, 20, 31, 48, 33, 187, 85},
{153, 168, 216, 200, 3, 150, 183, 68, 200, 174, 218, 13, 42, 56, 70, 193},
{111, 85, 90, 14, 235, 120, 251, 230, 199, 7, 114, 254, 244, 96, 214, 55},
{223, 231, 126, 139, 205, 37, 28, 113, 130, 200, 39, 163, 201, 44, 199, 82},
{0, 140, 126, 211, 160, 130, 168, 215, 5, 246, 26, 233, 4, 28, 148, 91},
{10, 238, 132, 95, 216, 129, 39, 33, 101, 146, 217, 116, 25, 10, 186, 31},
{87, 199, 83, 204, 48, 106, 223, 140, 22, 106, 144, 248, 205, 243, 211, 141},
{79, 33, 188, 111, 226, 93, 234, 234, 80, 95, 84, 73, 150, 229, 180, 199},
{17, 56, 50, 171, 227, 134, 251, 54, 128, 69, 190, 82, 129, 251, 27, 38},
{152, 109, 6, 232, 145, 113, 85, 187, 132, 75, 62, 155, 206, 159, 136, 118},
{103, 91, 126, 229, 188, 91, 176, 216, 1, 28, 13, 202, 34, 91, 205, 142},
{73, 242, 54, 89, 27, 28, 243, 247, 209, 148, 237, 106, 102, 227, 189, 250},
{58, 48, 222, 75, 151, 42, 12, 154, 244, 52, 213, 102, 105, 210, 255, 136},
{144, 238, 223, 240, 102, 87, 83, 216, 177, 225, 39, 244, 29, 182, 232, 125},
{21, 166, 160, 63, 236, 156, 0, 223, 32, 101, 81, 155, 248, 31, 111, 79},
{151, 39, 17, 154, 200, 21, 140, 218, 32, 40, 193, 33, 230, 145, 188, 27},
{98, 193, 76, 165, 12, 2, 229, 14, 50, 39, 224, 7, 222, 160, 58, 217},
{170, 201, 190, 159, 124, 5, 143, 222, 28, 233, 27, 203, 41, 2, 248, 181},
{132, 122, 211, 85, 175, 68, 253, 136, 42, 96, 54, 58, 245, 24, 220, 105},
{112, 201, 85, 203, 237, 128, 209, 149, 228, 232, 123, 153, 55, 5, 122, 218},
{63, 83, 9, 124, 58, 237, 82, 25, 67, 92, 231, 195, 73, 65, 58, 43},
{164, 160, 235, 85, 46, 16, 15, 9, 239, 238, 254, 137, 77, 214, 222, 28},
{109, 29, 91, 115, 2, 229, 252, 79, 163, 41, 66, 8, 160, 66, 29, 205},
{209, 193, 52, 0, 166, 207, 75, 187, 140, 157, 190, 203, 224, 62, 248, 53},
{201, 204, 254, 35, 221, 165, 21, 218, 242, 60, 98, 182, 107, 30, 236, 8},
{121, 62, 186, 255, 9, 187, 174, 82, 232, 138, 252, 116, 239, 215, 80, 84},
{105, 3, 35, 43, 200, 180, 187, 111, 153, 196, 99, 144, 110, 17, 222, 206},
{216, 81, 48, 175, 201, 78, 207, 129, 81, 135, 112, 3, 104, 162, 174, 67},
{153, 54, 245, 64, 122, 65, 192, 187, 99, 250, 142, 184, 80, 48, 38, 79},
{120, 118, 0, 162, 64, 231, 27, 161, 230, 65, 75, 96, 252, 141, 39, 29},
{74, 32, 58, 137, 251, 50, 32, 188, 16, 74, 40, 213, 159, 68, 190, 214},
{40, 191, 45, 149, 17, 84, 201, 122, 219, 121, 204, 72, 112, 22, 185, 83},
{227, 240, 119, 58, 89, 94, 62, 115, 58, 222, 120, 38, 109, 196, 40, 95},
{12, 252, 167, 94, 197, 137, 128, 100, 167, 252, 180, 255, 228, 146, 100, 106},
{158, 65, 250, 40, 179, 59, 207, 110, 188, 252, 204, 145, 93, 61, 59, 244},
{108, 46, 12, 111, 166, 199, 244, 170, 187, 176, 246, 160, 163, 140, 178, 159},
{217, 240, 201, 164, 204, 232, 148, 93, 72, 253, 233, 187, 86, 205, 118, 24},
{59, 88, 72, 82, 43, 36, 81, 54, 154, 35, 72, 51, 227, 79, 129, 86},
{48, 70, 11, 9, 78, 255, 150, 96, 200, 85, 215, 118, 86, 82, 72, 3},
{217, 33, 163, 49, 189, 182, 129, 153, 174, 146, 224, 227, 57, 64, 139, 215},
{0, 98, 119, 157, 33, 99, 215, 133, 127, 90, 196, 129, 145, 92, 162, 252},
{220, 39, 76, 212, 120, 51, 127, 40, 205, 182, 83, 120, 58, 224, 195, 105},
{194, 59, 121, 96, 238, 51, 95, 217, 74, 5, 95, 203, 29, 250, 45, 120},
{15, 57, 140, 103, 94, 53, 193, 71, 162, 214, 56, 197, 253, 206, 168, 4},
{170, 130, 253, 67, 201, 120, 245, 200, 166, 226, 0, 36, 65, 116, 191, 55},
{107, 114, 39, 244, 76, 166, 218, 26, 13, 37, 29, 248, 215, 115, 67, 193},
{40, 45, 75, 175, 237, 164, 88, 245, 207, 26, 224, 178, 154, 148, 192, 235},
{176, 134, 136, 5, 210, 249, 34, 134, 49, 13, 82, 133, 220, 131, 97, 245},
{16, 29, 150, 10, 4, 26, 145, 44, 146, 49, 172, 17, 92, 244, 25, 10},
{8, 202, 175, 171, 119, 163, 54, 231, 92, 72, 207, 162, 11, 32, 53, 10},
{104, 25, 216, 74, 234, 142, 15, 138, 129, 247, 236, 42, 12, 195, 38, 85},
{233, 146, 58, 23, 107, 239, 224, 246, 142, 100, 66, 210, 28, 112, 82, 11},
{223, 108, 15, 244, 228, 143, 96, 194, 2, 137, 237, 70, 46, 211, 171, 107},
{196, 82, 176, 53, 91, 210, 12, 125, 52, 184, 241, 31, 88, 38, 235, 73},
{70, 207, 126, 33, 43, 144, 240, 84, 28, 160, 12, 29, 79, 66, 196, 166},
{161, 136, 230, 5, 178, 197, 167, 224, 5, 152, 177, 163, 227, 10, 139, 48},
{252, 29, 254, 209, 234, 77, 218, 132, 149, 179, 149, 44, 222, 238, 218, 243},
{211, 19, 43, 88, 40, 241, 37, 67, 176, 221, 144, 101, 226, 21, 90, 22},
{6, 112, 44, 200, 34, 161, 80, 12, 152, 63, 255, 201, 159, 150, 59, 141},
{190, 231, 69, 147, 63, 90, 34, 94, 110, 229, 65, 124, 34, 110, 170, 24},
{26, 53, 66, 5, 182, 227, 197, 32, 112, 31, 237, 242, 215, 13, 151, 62},
{125, 209, 21, 131, 247, 230, 171, 165, 145, 179, 79, 116, 180, 127, 86, 25},
{227, 70, 161, 41, 139, 72, 253, 208, 81, 103, 116, 128, 36, 33, 178, 29},
{126, 4, 39, 20, 218, 30, 163, 94, 115, 115, 4, 244, 20, 202, 44, 171},
{58, 163, 223, 120, 95, 37, 200, 95, 203, 189, 66, 103, 209, 66, 223, 225},
{158, 25, 22, 228, 55, 64, 122, 41, 77, 5, 200, 90, 234, 75, 209, 65},
{72, 245, 26, 197, 210, 105, 184, 204, 9, 244, 153, 78, 166, 218, 8, 72},
{96, 234, 9, 155, 156, 166, 125, 222, 88, 81, 49, 203, 2, 103, 67, 223},
{118, 9, 159, 166, 206, 255, 246, 196, 41, 81, 223, 180, 210, 198, 156, 120},
{77, 189, 176, 66, 88, 234, 189, 140, 174, 134, 185, 43, 8, 228, 208, 89},
{51, 119, 222, 90, 214, 114, 10, 107, 216, 255, 23, 211, 242, 48, 63, 46},
{118, 50, 147, 229, 151, 158, 0, 96, 30, 95, 111, 51, 97, 183, 143, 125},
{210, 178, 153, 247, 59, 87, 107, 14, 12, 60, 8, 136, 98, 182, 244, 234},
{240, 121, 9, 189, 64, 207, 88, 122, 64, 198, 146, 72, 150, 130, 107, 33},
{226, 200, 200, 212, 192, 9, 52, 158, 225, 95, 51, 192, 30, 134, 116, 224},
{117, 120, 72, 100, 238, 26, 242, 129, 204, 156, 74, 203, 148, 178, 168, 22},
{117, 182, 62, 159, 114, 45, 89, 32, 105, 86, 199, 243, 188, 125, 94, 88},
{118, 22, 94, 10, 151, 138, 137, 146, 150, 31, 85, 207, 5, 48, 163, 22},
{49, 169, 83, 15, 1, 189, 102, 206, 0, 100, 191, 43, 25, 224, 42, 253},
{251, 107, 34, 116, 41, 20, 192, 166, 239, 229, 10, 61, 88, 128, 254, 67},
{218, 139, 184, 138, 172, 192, 235, 149, 43, 180, 61, 4, 50, 148, 45, 142},
{66, 172, 34, 99, 82, 31, 208, 178, 128, 31, 97, 220, 86, 74, 236, 195},
{26, 141, 173, 156, 148, 106, 176, 227, 203, 144, 137, 198, 171, 69, 173, 69},
{209, 247, 109, 110, 50, 112, 211, 114, 192, 108, 3, 138, 15, 116, 53, 186},
{153, 25, 48, 251, 93, 203, 226, 9, 211, 56, 235, 12, 95, 239, 208, 87},
{145, 33, 177, 144, 225, 216, 29, 3, 84, 35, 2, 189, 215, 211, 47, 19},
{69, 79, 193, 81, 200, 88, 185, 29, 137, 217, 204, 128, 184, 17, 186, 89},
{45, 188, 172, 203, 214, 246, 174, 115, 127, 7, 164, 32, 134, 27, 135, 185},
{66, 63, 218, 158, 197, 109, 210, 17, 107, 114, 52, 153, 22, 98, 91, 152},
{6, 146, 9, 18, 240, 103, 54, 213, 73, 208, 74, 23, 251, 193, 14, 80},
{23, 14, 14, 230, 176, 88, 200, 181, 107, 136, 179, 151, 168, 192, 36, 19},
{209, 124, 113, 94, 194, 40, 47, 102, 198, 21, 191, 85, 46, 107, 128, 209},
{104, 123, 155, 157, 109, 28, 180, 211, 94, 175, 217, 203, 53, 151, 15, 113},
{188, 136, 178, 215, 129, 252, 178, 7, 29, 22, 76, 154, 185, 131, 18, 22},
{136, 195, 123, 158, 138, 251, 125, 151, 16, 165, 165, 225, 130, 242, 229, 8},
{124, 25, 125, 128, 45, 250, 59, 19, 131, 246, 76, 27, 205, 158, 68, 26},
{169, 214, 152, 50, 105, 120, 15, 66, 248, 58, 158, 174, 57, 183, 134, 134},
{129, 64, 28, 225, 101, 142, 241, 155, 109, 196, 142, 9, 70, 7, 248, 90},
{214, 96, 109, 159, 36, 253, 82, 14, 234, 1, 160, 48, 236, 26, 4, 185},
{199, 80, 192, 247, 216, 236, 84, 70, 77, 58, 236, 1, 99, 54, 108, 181},
{20, 55, 85, 54, 90, 243, 161, 58, 253, 68, 180, 104, 200, 123, 159, 203},
{49, 164, 149, 124, 50, 136, 40, 20, 88, 131, 207, 211, 61, 117, 200, 87},
{200, 85, 188, 102, 137, 100, 111, 72, 150, 224, 57, 192, 30, 252, 20, 78},
{199, 136, 229, 100, 106, 220, 33, 10, 186, 191, 162, 83, 214, 172, 107, 74},
{233, 156, 44, 26, 135, 250, 126, 2, 143, 77, 29, 109, 217, 99, 38, 36},
{147, 40, 120, 2, 102, 101, 119, 169, 158, 59, 179, 80, 30, 0, 99, 219},
{7, 164, 215, 79, 218, 55, 136, 247, 217, 238, 245, 168, 120, 220, 33, 172},
{146, 37, 162, 209, 57, 83, 80, 235, 200, 168, 254, 132, 4, 16, 33, 119},
{231, 201, 152, 52, 210, 100, 171, 87, 27, 78, 34, 183, 212, 126, 40, 71},
{2, 237, 64, 156, 67, 226, 110, 213, 210, 32, 65, 136, 179, 24, 133, 2},
{42, 181, 54, 88, 20, 65, 239, 234, 36, 235, 72, 32, 74, 176, 3, 100},
{17, 198, 130, 227, 182, 76, 6, 3, 78, 5, 76, 56, 9, 25, 52, 154},
{157, 79, 245, 63, 41, 103, 243, 45, 211, 91, 177, 58, 96, 80, 214, 58},
{83, 203, 38, 52, 233, 255, 248, 143, 220, 147, 63, 0, 86, 23, 200, 9},
{33, 13, 120, 255, 128, 11, 72, 185, 40, 237, 13, 77, 151, 36, 7, 144},
{66, 164, 67, 24, 247, 180, 158, 91, 108, 253, 36, 135, 53, 66, 4, 111},
{39, 46, 168, 29, 255, 154, 201, 33, 230, 23, 121, 171, 47, 249, 35, 133},
{199, 128, 73, 109, 42, 249, 120, 86, 154, 163, 83, 241, 46, 49, 21, 210},
{78, 191, 162, 229, 191, 211, 198, 99, 198, 24, 81, 144, 5, 196, 207, 150},
{85, 188, 44, 45, 47, 235, 56, 145, 141, 21, 109, 60, 3, 131, 165, 50},
{61, 70, 55, 146, 184, 216, 141, 252, 241, 63, 107, 222, 206, 204, 9, 131},
{225, 123, 70, 136, 9, 89, 171, 99, 25, 227, 212, 143, 19, 29, 188, 241},
{10, 198, 227, 68, 211, 21, 202, 148, 190, 128, 95, 122, 69, 237, 249, 46},
{10, 160, 69, 90, 14, 156, 195, 127, 103, 173, 233, 43, 226, 233, 111, 38},
{134, 16, 76, 142, 31, 227, 16, 242, 52, 193, 52, 95, 203, 23, 18, 7},
{233, 152, 31, 64, 194, 239, 39, 149, 238, 24, 93, 53, 139, 224, 229, 209},
{77, 214, 209, 9, 71, 62, 228, 179, 80, 106, 179, 236, 42, 190, 36, 107},
{101, 30, 241, 246, 158, 56, 172, 161, 198, 186, 82, 18, 48, 111, 188, 207},
{193, 64, 146, 209, 84, 107, 14, 10, 119, 43, 197, 21, 129, 152, 118, 197},
{230, 14, 147, 30, 190, 79, 202, 184, 85, 83, 29, 235, 168, 39, 53, 38},
{209, 80, 50, 193, 54, 168, 60, 245, 177, 51, 29, 97, 89, 195, 42, 62},
{158, 214, 127, 251, 81, 147, 232, 116, 64, 0, 26, 54, 139, 126, 137, 31},
{29, 185, 44, 87, 218, 18, 81, 227, 232, 48, 79, 43, 251, 18, 251, 82},
{251, 245, 231, 250, 250, 126, 58, 216, 60, 173, 175, 244, 75, 92, 229, 206},
{176, 102, 174, 0, 120, 219, 144, 96, 157, 63, 45, 137, 14, 18, 61, 44},
{126, 54, 149, 96, 81, 136, 136, 204, 227, 176, 1, 122, 29, 75, 30, 215},
{222, 172, 230, 192, 14, 45, 47, 21, 34, 102, 209, 185, 140, 45, 83, 225},
{47, 250, 252, 130, 128, 229, 238, 34, 95, 90, 251, 129, 182, 240, 236, 81},
{8, 178, 37, 67, 193, 14, 91, 35, 136, 160, 41, 51, 121, 187, 9, 26},
{124, 251, 121, 110, 178, 106, 210, 110, 229, 51, 252, 130, 10, 87, 121, 24},
{108, 67, 13, 45, 118, 13, 231, 144, 42, 235, 219, 29, 227, 240, 66, 29},
{10, 226, 40, 209, 37, 207, 177, 22, 128, 60, 153, 88, 179, 238, 142, 63},
{175, 210, 248, 13, 191, 255, 52, 139, 16, 92, 135, 191, 169, 196, 102, 24},
{102, 32, 164, 156, 16, 4, 9, 206, 12, 95, 161, 235, 109, 13, 128, 125},
{132, 62, 5, 205, 110, 99, 153, 29, 188, 194, 183, 51, 196, 239, 121, 170},
{255, 136, 91, 182, 110, 43, 76, 20, 224, 249, 36, 218, 202, 164, 143, 251},
{164, 52, 200, 32, 226, 189, 94, 247, 215, 25, 142, 132, 25, 29, 51, 79},
{38, 92, 230, 33, 76, 220, 244, 48, 196, 13, 237, 57, 196, 46, 122, 193},
{55, 197, 209, 118, 235, 126, 91, 127, 32, 59, 117, 86, 132, 157, 61, 146},
{164, 201, 99, 195, 111, 115, 229, 14, 194, 112, 54, 32, 117, 170, 201, 4},
{124, 60, 66, 31, 88, 140, 151, 236, 165, 163, 27, 155, 231, 201, 45, 189},
{107, 189, 199, 90, 223, 165, 159, 109, 1, 206, 246, 171, 150, 171, 24, 22},
{137, 73, 174, 101, 153, 75, 222, 13, 254, 97, 160, 185, 225, 241, 252, 158},
{110, 198, 184, 109, 28, 117, 169, 119, 48, 6, 3, 59, 28, 95, 152, 104},
{117, 53, 103, 170, 29, 19, 232, 48, 77, 234, 186, 157, 3, 37, 71, 144},
{250, 163, 31, 237, 69, 123, 33, 245, 99, 220, 15, 237, 123, 156, 253, 42},
{18, 17, 195, 233, 137, 18, 73, 236, 199, 196, 185, 109, 132, 101, 249, 167},
{92, 149, 117, 83, 44, 193, 242, 186, 227, 79, 214, 159, 159, 180, 232, 134},
{220, 77, 4, 238, 109, 45, 28, 103, 62, 126, 13, 0, 253, 20, 229, 12},
{6, 249, 211, 120, 0, 27, 223, 180, 91, 92, 29, 2, 244, 56, 78, 215},
{111, 185, 31, 126, 195, 127, 207, 218, 238, 31, 44, 90, 235, 163, 71, 22},
{49, 254, 166, 96, 132, 41, 64, 131, 225, 60, 117, 133, 195, 195, 210, 43},
{80, 114, 58, 9, 119, 4, 198, 160, 129, 239, 246, 150, 176, 227, 16, 112},
{45, 204, 43, 14, 76, 164, 212, 87, 239, 186, 212, 55, 254, 25, 221, 20},
{228, 131, 79, 165, 16, 117, 18, 221, 225, 218, 39, 111, 147, 252, 1, 86},
{3, 0, 134, 11, 214, 84, 164, 190, 93, 199, 254, 26, 247, 151, 13, 80},
{58, 31, 238, 239, 197, 29, 195, 141, 77, 73, 166, 154, 126, 70, 85, 158},
{147, 95, 64, 118, 159, 84, 62, 148, 120, 245, 62, 162, 252, 119, 39, 210},
{36, 130, 222, 225, 18, 70, 61, 160, 250, 100, 230, 211, 104, 104, 160, 213},
{185, 68, 68, 75, 14, 222, 122, 139, 88, 37, 21, 110, 100, 12, 247, 29},
{109, 30, 211, 241, 124, 135, 8, 181, 129, 168, 20, 19, 158, 22, 13, 178},
{239, 66, 90, 241, 215, 129, 45, 32, 10, 40, 64, 255, 42, 126, 199, 47},
{158, 61, 151, 233, 228, 93, 41, 246, 175, 3, 59, 250, 33, 37, 116, 97},
{87, 250, 186, 221, 114, 45, 109, 226, 128, 145, 152, 225, 112, 190, 106, 156},
{137, 108, 106, 0, 32, 133, 136, 7, 242, 240, 65, 133, 15, 243, 56, 109},
{33, 61, 50, 76, 18, 39, 78, 6, 186, 247, 93, 237, 212, 66, 203, 40},
{101, 163, 166, 99, 179, 60, 135, 60, 217, 177, 138, 89, 167, 23, 0, 119},
{38, 167, 255, 149, 68, 59, 234, 155, 70, 78, 195, 161, 201, 137, 124, 104},
{31, 89, 184, 97, 92, 186, 161, 160, 101, 152, 108, 136, 182, 140, 161, 245},
{133, 129, 69, 1, 175, 146, 119, 202, 140, 65, 179, 26, 64, 135, 157, 30},
{198, 91, 32, 45, 110, 113, 41, 233, 183, 58, 204, 125, 33, 15, 229, 145},
{0, 63, 110, 64, 143, 248, 50, 124, 70, 117, 58, 226, 209, 177, 50, 213},
{78, 101, 177, 207, 1, 73, 200, 88, 235, 250, 35, 85, 63, 144, 71, 112},
{206, 190, 24, 143, 74, 121, 210, 199, 166, 137, 196, 128, 110, 38, 242, 20},
{15, 206, 203, 253, 201, 5, 174, 137, 208, 195, 14, 143, 153, 229, 245, 210},
{102, 3, 132, 137, 93, 142, 182, 246, 240, 144, 137, 134, 71, 94, 195, 31},
{163, 160, 194, 179, 23, 161, 38, 10, 193, 20, 36, 76, 135, 173, 139, 46},
{126, 76, 188, 58, 55, 229, 243, 69, 54, 171, 42, 170, 174, 249, 205, 141},
{194, 131, 189, 46, 125, 64, 165, 143, 243, 117, 110, 12, 104, 185, 90, 62},
{87, 71, 215, 111, 74, 209, 225, 42, 136, 15, 250, 214, 104, 219, 196, 134},
{117, 255, 166, 108, 141, 86, 208, 149, 44, 179, 244, 102, 155, 9, 51, 211},
{126, 167, 184, 183, 71, 243, 197, 124, 8, 33, 187, 161, 133, 2, 134, 136},
{6, 77, 200, 132, 4, 163, 168, 143, 95, 151, 84, 205, 150, 116, 246, 61},
{194, 154, 154, 194, 93, 252, 43, 134, 108, 2, 215, 120, 88, 170, 253, 126},
{253, 148, 232, 163, 47, 16, 139, 21, 124, 214, 59, 207, 244, 22, 108, 16},
{99, 19, 96, 54, 158, 21, 76, 123, 204, 155, 131, 101, 53, 229, 109, 166},
{159, 251, 12, 3, 110, 73, 198, 192, 190, 99, 95, 132, 169, 125, 193, 103},
{157, 115, 58, 88, 33, 249, 32, 204, 233, 30, 105, 54, 199, 131, 207, 98},
{133, 190, 105, 246, 74, 118, 27, 28, 131, 107, 75, 229, 247, 134, 43, 248},
{16, 49, 112, 96, 41, 41, 137, 97, 17, 159, 74, 183, 134, 245, 192, 61},
{213, 181, 75, 211, 36, 131, 25, 244, 127, 139, 56, 83, 237, 148, 92, 31},
{54, 12, 172, 58, 222, 212, 2, 143, 23, 172, 147, 47, 91, 211, 38, 181},
{75, 122, 155, 93, 87, 93, 233, 255, 149, 158, 199, 248, 249, 73, 42, 33},
{185, 173, 244, 9, 19, 129, 254, 41, 66, 209, 121, 163, 189, 6, 91, 169}
};
  uint8_t ad_col, ad_row, side, line, adress_row;
  uint8_t value1, value2, value3, value4;
  value1 = 0;
  value2 = 12;
  value3 = 24;
  value4 = 34;
  //for (ad_col=0; ad_col<4; ad_col++){
    ad_col = 0;
    ad_row = 0;
    line = 0;
    adress_row = 0;//((ad_row&3)<<6)|(line & 63);
    side = 0;
    programming_function(value1, value2, value3, value4, ad_col, adress_row, side);
    //for (side = 0; side<2; side++) {
      //programming_function(pattern[0+line*64+side*4][ad_col+4*ad_row], pattern[1+line*64+side*4][ad_col+4*ad_row], pattern[2+line*64+side*4][ad_col+4*ad_row], pattern[3+line*64+side*4][ad_col+4*ad_row], ad_col, adress_row, side);
    //}
  //} 

  
  uint32_t result_read;
  result_read = reading_function(ad_col, adress_row, side);
  putchar('\n') ;
  print_line(0) ; 
  //print_array() ; 
  uint8_t obs_zero[4] = {0, 0, 0, 0};
  uint32_t result = inference_function(obs_zero[0], obs_zero[0],obs_zero[0],obs_zero[0],obs_zero[0],obs_zero[0],obs_zero[0],obs_zero[0], 1) ;

  print_serial_dec_32(result) ;

  // reading a line
  /*
  uint32_t result_read[2][16];
  for (ad_col=0; ad_col<4; ad_col++){
    for (ad_row=0; ad_row<1; ad_row++){
      result_read[0][ad_col] = reading_function(ad_col, ad_row, 0);
      result_read[1][ad_col] = reading_function(ad_col, ad_row, 1); 
    }   

  }*/
  /*
  // inference
  uint32_t result_inf;
  uint8_t obs_col[4] = {0, 0, 0, 0};
  uint8_t obs_row[4] = {0, 0, 0, 0}; 

  int choice = 1;
  for(choice=1;choice<=3 ; choice++){
    result_inf = inference_function(obs_col[0], obs_col[1], obs_col[2], obs_col[3], obs_row[0], obs_row[1], obs_row[2], obs_row[3], choice);
  }

  */
  return 0 ;
}

void print_serial_dec(uint8_t value){
  int i ;
  uint8_t valeur = value ;
  char string [4] ; 
  for(i=0;i<4;i++){
    string[i] = (valeur % 10) + '0' ;
    valeur /= 10 ;
  }
  for(i=3;i>=0;i--){
    putchar(string[i]) ;
  }
}


void print_line(uint32_t line_addr){
  uint32_t values_read[8] ;
  uint8_t increment ; 
  for(increment=0;increment<8;increment++){
    values_read[increment] = reading_function(increment >> 1, (uint8_t) line_addr,(increment + 1)%2) ;
  }

  for(increment=0;increment<8;increment++){
    int sub_incr ; 
    if(increment%2 == 0){
      putchar(' ') ; 
      putchar('|') ; 
    }
    for(sub_incr=3;sub_incr>=0;sub_incr--){
      print_serial_dec(values_read[increment] >> (sub_incr * 8)) ; 
      putchar('|') ; 
    }
  }
  putchar(' ') ; 
  putchar('\n') ;
}

void print_array(){
  int i ; 
  for(i=0;i<512;i++){
    if(i % 64 == 0){
      putchar(' \n') ; 
    }
    print_line(i) ;
    
  }
}